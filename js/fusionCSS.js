/**
 * Copyright (c) 2013 - 2016 fusionCSS. All rights reserved.
 * @link http://fusionCSS.com
 * @version 3.0.8
 */
!function(){var a=window.jQuery||window.fusionLib,e=0,t="",s=!1;a.fn.extend({tabs:function(e){function t(){for(var a in i)if(i[a][1].find(".validation").hasClass("failed")){i[a][0].trigger("click");break}}var s,n,l=this[0].id,i={};if("1"!=this.attr("data-tabs-enabled")){this.attr("data-tabs-enabled","1"),null!=(n=this.attr("data-tabs-active"))&&(s=n),this.find(".tabs li").each(function(){var t,n,o=a(this);o.parent().parent()[0].id==l&&(null==(t=o.attr("data-tabpanel"))&&(t=o.find("a").attr("href").replace(/^.*#/,"")),n=a("#"+t),(void 0==s||void 0!=e&&e==t)&&(s=t),t!=s&&n.addClass("tabhidepanel").attr("aria-expanded",!1),o.parent().attr("aria-selected",!1),i[t]=[o,n],o.on("click",function(a){return i[s][1].addClass("tabhidepanel").attr("aria-expanded",!1),i[t][1].removeClass("tabhidepanel").attr("aria-expanded",!0),i[s][0].removeClass("active").parent().attr("aria-selected",!1),i[t][0].addClass("active").parent().attr("aria-selected",!0),s=t,o.trigger("fcss:tabclick"),a.preventDefault(),a.stopPropagation(),!1}))}),void 0!=s&&(i[s][0].addClass("active").parent().attr("aria-selected",!0),i[s][1].removeClass("tabhidepanel").attr("aria-expanded",!0));for(var o=this[0];o;){if("FORM"==o.tagName){a(o).on("formValidationFailed",t).addClass("tabwidgetcontainer"),t();break}o=o.parentNode}}return this},toastShow:function(n,l,i,o,r){var d=0;return s||(a("body").append('<div id="toast" role="alert" aria-hidden="true"></div>'),s=!0),t=n,i&&(l='<a href="#">'+i+"</a>"+l),e?(clearTimeout(e),e=0,d=300):a("#toast").hasClass("exposed")&&(d=300),a("#toast").removeClass("exposed").removeClass("success").removeClass("error").removeClass("warning").removeClass("accent").removeClass("primary").attr("aria-hidden",!0),setTimeout(function(){a("#toast").html(l).addClass("exposed").addClass(n).attr("aria-hidden",!1),i&&a("#toast a").on("click",function(t){e&&(clearTimeout(e),e=0),a("#toast").removeClass("exposed").attr("aria-hidden",!0),o&&o(),t.preventDefault()}),(!i&&r!==!1||r===!0)&&(e=setTimeout(function(){a("#toast").removeClass("exposed").removeClass(n).attr("aria-hidden",!0),e=0},5e3))},d),this},toastHide:function(){e&&(clearTimeout(e),e=0),a("#toast").removeClass("exposed").removeClass(t).attr("aria-hidden",!0)}}),a.toastShow=a.fn.toastShow,a.toastHide=a.fn.toastHide,a(document).ready(function(){function e(){var t=a(window);t.scrollTop()>0&&(t.scrollTop(Math.max(0,t.scrollTop()-Math.max(10,t.scrollTop()/20))),window.setTimeout(e,10))}function t(){var e=a(this),t=a("#"+e.attr("id")+"-label"),s=e.attr("type");"checkbox"!=s&&"submit"!=s&&"file"!=s&&e.on("focus",function(){t.addClass("focused")}).on("blur",function(){t.removeClass("focused")})}function s(){var e=a(this),t=e.attr("type");if("disabled"!=e.attr("data-floating-label")&&!e.hasClass("hasFloatingLabel")&&"checkbox"!=t&&"submit"!=t&&"file"!=t){var s=a("#"+e.attr("id")+"-label");s.length&&(e.is("textarea")&&s.addClass("floatTextarea"),e.addClass("hasFloatingLabel"),e.on("focus",function(){s.removeClass("floatDown").addClass("floatUp")}).on("blur",function(){e.is("select")||e.val()||e.hasClass("keepPlaceholder")?s.removeClass("floatDown").addClass("floatUp"):s.addClass("floatDown").removeClass("floatUp")}).on("change",function(){s.removeClass("focused"),e.is("select")||e.val()||e.hasClass("keepPlaceholder")?s.removeClass("floatDown").addClass("floatUp"):s.addClass("floatDown").removeClass("floatUp")}),e.hasClass("keepPlaceholder")||e.attr("placeholder",""),e.trigger("blur"))}}function n(){var e=a(this);e.hasClass("hform")||(e.find("input").each(s),e.find("textarea").each(s),e.find(".selectControl select").each(s))}a(".tabwidget").each(function(){a(this).tabs()}),a(".uploadButton input").on("change",function(e){a(this).parent().find("span").html(a(this).val().split(/(\\|\/)/g).pop())}),a("table.responsive").each(function(e,t){a(t).wrap('<div class="responsiveTableWrapper" />'),a(t).wrap('<div class="responsiveTableWrapperInner" />')}),a("#viewSlideInMenu").length&&(a("body").append('<div id="slideInMenuOverlay"></div>'),a("#slideInMenu").length||(a("body").append('<div id="slideInMenu" role="menu"></div>'),a(".slideInMenu").each(function(e){var t="",s="";"ul"==this.nodeName.toLowerCase()&&(t="<ul>",s="</ul>"),a(this).hasClass("slideInMenuRootOnly")?(a("#slideInMenuOverlay").html(t+a(this).html()+s).find("li ul").remove(),a("#slideInMenu").append(a("#slideInMenuOverlay").html())):a("#slideInMenu").append(t+a(this).html()+s)})),a("#slideInMenu").attr("aria-hidden",!0),a("#slideInMenuOverlay").html("").on("click",function(e){a("#slideInMenu").removeClass("slideInMenuShow").attr("aria-hidden",!0),a("#slideInMenuOverlay").removeClass("slideInMenuShow"),a("body").removeClass("disableScroll")}),a("#viewSlideInMenu").on("click",function(e){a("body").addClass("disableScroll"),a("#slideInMenuOverlay").addClass("slideInMenuShow"),a("#slideInMenu").addClass("slideInMenuShow").attr("aria-hidden",!1)}));var l=a("#scrollToTop");l.length&&(l.on("click",e),a(window).on("scroll",function(){a(this).scrollTop()>(null!=l.attr("data-showat")?l.attr("data-showat"):600)?l.removeClass("hide"):l.addClass("hide")})),a(".floatingLabels form").each(n),a("form.floatingLabels").each(n),a("form").each(function(){var e=a(this);e.hasClass("hform")||(e.find("input").each(t),e.find("textarea").each(t),e.find("select").each(t))}),setTimeout(function(){a(document.activeElement).trigger("focus")},100);var i=!1;a(".fam").each(function(){var e=a(this),t=e.find("ul");t.attr("aria-hidden",!t.hasClass("exposed")),e.find("a").first().on("click",function(e){t.hasClass("exposed")?t.removeClass("exposed").attr("aria-hidden",!0):(a(".fam ul").removeClass("exposed").attr("aria-hidden",!0),t.addClass("exposed").attr("aria-hidden",!1)),e.preventDefault()}).attr("data-fam-menu",1),i=!0}),i&&a(document).on("click",function(e){var t=a(e.target);"HTML"!=e.target.nodeName&&(t.attr("data-fam-menu")||t.hasClass("leave-open")||t.parent().attr("data-fam-menu")||t.parent().hasClass("leave-open"))||a(".fam ul").removeClass("exposed").attr("aria-hidden",!0)})});var n=a.fn.val;a.fn.val=function(e){if(void 0===e)return n.call(this);var t=a(this[0]),s=a("#"+t.attr("id")+"-label");return"checkbox"!=t.attr("type")&&("string"!=typeof e||e.length?s.removeClass("floatDown").addClass("floatUp"):s.addClass("floatDown").removeClass("floatUp")),n.call(this,e)};var l=a.fn.focus;a.fn.focus=function(){l.call(this);var e=a(this[0]),t=a("#"+e.attr("id")+"-label");return e.hasClass("hasFloatingLabel")&&"checkbox"!=e.attr("type")&&(t.removeClass("floatDown").addClass("floatUp"),t.addClass("focused")),this}}();