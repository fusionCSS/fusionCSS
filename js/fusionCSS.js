/**
 * Copyright (c) 2013 - 2015 fusionCSS. All rights reserved.
 * @link http://fusionCSS.com
 * @version 3.0.0dev1
 */
window.fusionLib||(window.$fl=window.fusionLib=jQuery),function(){var a=0;fusionLib.fn.extend({tabs:function(a){function e(){for(var a in i)if(i[a][1].find(".validation").hasClass("failed")){i[a][0].trigger("click");break}}var l,t,n=this[0].id,i={};if("1"!=this.attr("data-tabs-enabled")){this.attr("data-tabs-enabled","1"),null!=(t=this.attr("data-tabs-active"))&&(l=t),this.find(".tabs li").each(function(){var e,t,s=$fl(this);s.parent().parent()[0].id==n&&(null==(e=s.attr("data-tabpanel"))&&(e=s.find("a").attr("href").replace(/^.*#/,"")),t=$fl("#"+e),(void 0==l||void 0!=a&&a==e)&&(l=e),e!=l&&t.addClass("tabhidepanel").attr("aria-expanded",!1),s.parent().attr("aria-selected",!1),i[e]=[s,t],s.bind("click",function(a){return i[l][1].addClass("tabhidepanel").attr("aria-expanded",!1),i[e][1].removeClass("tabhidepanel").attr("aria-expanded",!0),i[l][0].removeClass("active").parent().attr("aria-selected",!1),i[e][0].addClass("active").parent().attr("aria-selected",!0),l=e,a.preventDefault(),a.stopPropagation(),!1}))}),void 0!=l&&(i[l][0].addClass("active").parent().attr("aria-selected",!0),i[l][1].removeClass("tabhidepanel").attr("aria-expanded",!0));for(var s=this[0];s;){if("FORM"==s.tagName){$fl(s).bind("formValidationFailed",e).addClass("tabwidgetcontainer"),e();break}s=s.parentNode}}return this},toastShow:function(e,l,t,n){var i=0;return t&&(l='<a href="#">'+t+"</a>"+l),a?(clearTimeout(a),a=0,i=300):$fl("#toast").hasClass("exposed")&&(i=300),$fl("#toast").removeClass("exposed").removeClass("success").removeClass("error").removeClass("warning").removeClass("accent").removeClass("primary").attr("aria-hidden",!0),setTimeout(function(){$fl("#toast").html(l).addClass("exposed").addClass(e).attr("aria-hidden",!1),t?$fl("#toast a").bind("click",function(e){a&&(clearTimeout(a),a=0),$fl("#toast").removeClass("exposed").attr("aria-hidden",!0),n&&n(),e.preventDefault()}):a=setTimeout(function(){$fl("#toast").removeClass("exposed").removeClass(e).attr("aria-hidden",!0),a=0},8e3)},i),this}}),fusionLib.toastShow=fusionLib.fn.toastShow,$fl(document).ready(function(){function a(){var e=$fl(window);e.scrollTop()>0&&(e.scrollTop(Math.max(0,e.scrollTop()-Math.max(10,e.scrollTop()/20))),window.setTimeout(a,10))}function e(){var a=$fl(this);a.hasClass("hform")||(a.find("input").each(function(){var a=$fl(this),e=a.attr("type");if(!a.hasClass("hasFloatingLabel")&&"checkbox"!=e&&"submit"!=e&&"file"!=e){var l=$fl("#"+a.attr("id")+"-label");a.addClass("hasFloatingLabel"),a.bind("focus",function(){l.removeClass("floatDown"),l.addClass("focused")}).bind("blur",function(){l.removeClass("focused"),a.val()?l.removeClass("floatDown"):l.addClass("floatDown")}).bind("change",function(){l.removeClass("focused"),a.val()?l.removeClass("floatDown"):l.addClass("floatDown")}),a.attr("placeholder","").addClass("floatDown").trigger("blur")}}),a.find("textarea").each(function(){var a=$fl(this),e=$fl("#"+a.attr("id")+"-label");a.bind("focus",function(){e.addClass("focused")}).bind("blur",function(){e.removeClass("focused")})}))}$fl(".tabwidget").each(function(){$fl(this).tabs()}),$fl("body").append('<div id="toast" role="alert" aria-hidden="true"></div>'),$fl(".uploadButton input").bind("change",function(a){$fl(this).parent().find("span").html($fl(this).val().split(/(\\|\/)/g).pop())}),$fl("table.responsive").each(function(a,e){$fl(e).wrap('<div class="responsiveTableWrapper" />'),$fl(e).wrap('<div class="responsiveTableWrapperInner" />')}),$fl("#viewSlideInMenu").length&&($fl("body").append('<div id="slideInMenuOverlay"></div>'),$fl("#slideInMenu").length||($fl("body").append('<div id="slideInMenu" role="menu"></div>'),$fl("ul.slideInMenu").each(function(a){$fl(this).hasClass("slideInMenuRootOnly")?($fl("#slideInMenuOverlay").html("<ul>"+$fl(this).html()+"</ul>").find("li ul").remove(),$fl("#slideInMenu").append($fl("#slideInMenuOverlay").html())):$fl("#slideInMenu").append("<ul>"+$fl(this).html()+"</ul>")})),$fl("#slideInMenu").attr("aria-hidden",!0),$fl("#slideInMenuOverlay").html("").bind("click",function(a){$fl("#slideInMenu").removeClass("slideInMenuShow").attr("aria-hidden",!0),$fl("#slideInMenuOverlay").removeClass("slideInMenuShow"),$fl("body").removeClass("disableScroll")}),$fl("#viewSlideInMenu").bind("click",function(a){$fl("body").addClass("disableScroll"),$fl("#slideInMenuOverlay").addClass("slideInMenuShow"),$fl("#slideInMenu").addClass("slideInMenuShow").attr("aria-hidden",!1)}));var l=$fl("#scrollToTop");l.length&&(l.bind("click",a),$fl(window).bind("scroll",function(){$fl(this).scrollTop()>(null!=l.attr("data-showat")?l.attr("data-showat"):600)?l.removeClass("hide"):l.addClass("hide")})),$fl(".floatingLabels form").each(e),$fl("form.floatingLabels").each(e);var t=fusionLib.fn.val;fusionLib.fn.val=function(a){if("undefined"==typeof a)return t.call(this);var e=t.call(this,a);return fusionLib.fn.hasClass.call(this,"hasFloatingLabel")&&fusionLib.fn.trigger.call(this,"change"),e}})}();